# Broox library

This is JavaScript API Reference for broox.js library.

## Using broox.js

``` typescript
import broox from './broox.js';
```

## {@link mediaPlayer | Media Player}

Provides context to the apps executed within the Media Player.

#### {@link Blobs}

Parses tuio events recieved by apps and keeps track of the blobs.

``` typescript
// example
const blobs = new broox.mediaPlayer.Blobs();
const activeItems = blobs.getActiveItems();
```
<br/>

#### {@link KeyValue}

Allows apps to persist json values associated to a project and a key.

``` typescript
// example
const user = {
  firstName: 'John',
  lastName: 'Doe'
};
const keyValue = new broox.mediaPlayer.KeyValue();
keyValue.set('testApp', 'profile', user);
const profile = keyValue.get('testApp', 'profile');
```
<br/>

#### {@link GestureHandler}

Parses OSC events recieved by apps and allows to handle the different gestures.

``` typescript
// example
const gestureHandler = new broox.mediaPlayer.GestureHandler(500, 2);
gestureHandler.onPresence(() => console.log('Presence'));
```
<br/>

#### {@link OscListener}

Listens to OSC events and executes callback functions.

``` typescript
// example
const oscListener = new broox.mediaPlayer.OscListener();
oscListener.add('/start', () => console.log('Start'));
```
<br/>

#### Functions
- {@link getMediaInfo}
  <br/>
  Gets media information.
- {@link getDeviceInfo}
  <br/>
  Gets device information.
- {@link logAlarm}
  <br/>
  Logs an alarm.
<br/>
 
## {@link media | Media}

Provides classes and functions related to the rendering process of different media.

#### {@link Composition}

Allows to create an image based on many media objects (images, videos, etc.).

``` typescript
// example
const composition = new broox.media.Composition(width, height, borderWidth);
composition.addElement(webcam, 0, 0, webcam.videoWidth, webcam.videoHeight, 1, false);
composition.get().then(blob => {
   image.src = URL.createObjectURL(blob);
)};
```
<br/>

 ``` typescript
 // example
 const recorder = new broox.media.Recorder(stream);
 recorder.start();
 setTimeout(() => {
   recorder.stop().then(blob => {
     console.log(blob);
   )};
 }, 10000);
 ```
 <br/>

#### Functions
- {@link getAvailableDevices}
  <br/>
  Gets navigator media devices.
- {@link getDeviceId}
  <br/>
  Gets navigator device id.
- {@link startDevice}
  <br/>
  Starts a given device (user media).
- {@link drawElement}
  <br/>
  Renders an element in a given 2d context.
- {@link drawVideo}
  <br/>
  Renders a video in a given 2d context.
- {@link blobToImage}
  <br/>
  Converts a blob to an image.

